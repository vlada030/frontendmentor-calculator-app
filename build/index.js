(()=>{"use strict";var e=document.body,t=document.getElementById("themeSelectorSlider"),n=document.getElementById("displayHolderElement"),a=document.querySelectorAll("[data-number]"),r=document.querySelectorAll("[data-operation]"),i=document.getElementById("deleteBtn"),s=(document.getElementById("decPoint"),document.getElementById("resetBtn")),o=document.getElementById("equalBtn"),d=function(e){var t=e.innerText.length,n=e.parentNode.offsetWidth<=327;return!n&&t>15?(e.style.fontSize="32px",e.style.wordWrap="break-word",void(e.style.wordBreak="break-all")):n&&t>13?(e.style.fontSize="20px",e.style.wordWrap="break-word",void(e.style.wordBreak="break-all")):(n&&t<=13&&(e.style.fontSize="32px"),void(!n&&t<=15&&(e.style.fontSize="48px")))},l=function(e){if(!e)return"";if("."===e)return e;var t=e.split(".")[0],n=e.includes(".")?".".concat(e.split(".")[1]):"",a=t?parseInt(t).toLocaleString("en",{maximumFractionDigits:0}):"0";return"".concat(a).concat(n)},c=["dark","light","custom"];function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u,h,f,O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.displayHolderElement=t,this.reset()}var t,n;return t=e,(n=[{key:"reset",value:function(){this.firstOperand="",this.secondOperand="",this.operation=null,this.updateUI()}},{key:"delete",value:function(){this.secondOperand?this.secondOperand=this.secondOperand.slice(0,-1):this.operation?this.operation=null:this.firstOperand&&(this.firstOperand=this.firstOperand.slice(0,-1))}},{key:"addOperand",value:function(e){this.operation?this.secondOperand=this.secondOperand+e:this.firstOperand=this.firstOperand+e}},{key:"addOperation",value:function(e){(this.operation!==e||this.secondOperand)&&(this.operation&&this.secondOperand&&this.calculate(),this.operation=e)}},{key:"calculate",value:function(){switch(this.operation){case"+":var e=parseFloat(this.firstOperand)+parseFloat(this.secondOperand);this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;case"-":e=parseFloat(this.firstOperand)-parseFloat(this.secondOperand),this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;case"x":e=parseFloat(this.firstOperand)*parseFloat(this.secondOperand),this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;case"/":e=parseFloat(this.firstOperand)/parseFloat(this.secondOperand),this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;default:return}}},{key:"updateUI",value:function(){if(!this.firstOperand)return this.displayHolderElement.innerText="0",void d(this.displayHolderElement);var e=l(this.firstOperand),t=l(this.secondOperand),n=this.operation?" ".concat(this.operation," "):"";this.displayHolderElement.innerText=e+n+t,d(this.displayHolderElement)}}])&&p(t.prototype,n),e}();u=localStorage.getItem("theme"),h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",f=u||h,e.className="",t.value=c.indexOf(f),e.classList.add(f),t.addEventListener("change",(function(){var n,a=t.value,r=c[a];e.className="",e.classList.add(r),n=r,localStorage.setItem("theme",n)}));var m=new O(n);a.forEach((function(e){e.addEventListener("click",(function(){m.addOperand(e.innerText),m.updateUI()}))})),r.forEach((function(e){e.addEventListener("click",(function(){m.addOperation(e.innerText),m.updateUI()}))})),s.addEventListener("click",(function(){m.reset(),m.updateUI()})),i.addEventListener("click",(function(){m.delete(),m.updateUI()})),o.addEventListener("click",(function(){m.calculate(),m.updateUI()}))})();