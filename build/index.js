(()=>{"use strict";var e=document.body,t=document.getElementById("themeSelectorBtn"),n=document.getElementById("displayHolderElement"),r=document.querySelectorAll("[data-number]"),a=document.querySelectorAll("[data-operation]"),i=document.getElementById("deleteBtn"),s=(document.getElementById("decPoint"),document.getElementById("resetBtn")),o=document.getElementById("equalBtn"),d=function(e){var t=e.innerText.length,n=e.parentNode.offsetWidth<=327;return!n&&t>15?(e.style.fontSize="32px",e.style.wordWrap="break-word",void(e.style.wordBreak="break-all")):n&&t>13?(e.style.fontSize="20px",e.style.wordWrap="break-word",void(e.style.wordBreak="break-all")):(n&&t<=13&&(e.style.fontSize="32px"),void(!n&&t<=15&&(e.style.fontSize="48px")))},l=function(e){if(!e)return"";if("."===e)return e;var t=e.split(".")[0],n=e.includes(".")?".".concat(e.split(".")[1]):"",r=t?parseInt(t).toLocaleString("en",{maximumFractionDigits:0}):"0";return"".concat(r).concat(n)};function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p,u,h,f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.displayHolderElement=t,this.reset()}var t,n;return t=e,(n=[{key:"reset",value:function(){this.firstOperand="",this.secondOperand="",this.operation=null,this.updateUI()}},{key:"delete",value:function(){this.secondOperand?this.secondOperand=this.secondOperand.slice(0,-1):this.operation?this.operation=null:this.firstOperand&&(this.firstOperand=this.firstOperand.slice(0,-1))}},{key:"addOperand",value:function(e){this.operation?this.secondOperand=this.secondOperand+e:this.firstOperand=this.firstOperand+e}},{key:"addOperation",value:function(e){this.operation!==e&&(this.operation&&this.secondOperand&&this.calculate(),this.operation=e)}},{key:"calculate",value:function(){switch(this.operation){case"+":var e=parseFloat(this.firstOperand)+parseFloat(this.secondOperand);this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;case"-":e=parseFloat(this.firstOperand)-parseFloat(this.secondOperand),this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;case"x":e=parseFloat(this.firstOperand)*parseFloat(this.secondOperand),this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;case"/":e=parseFloat(this.firstOperand)/parseFloat(this.secondOperand),this.firstOperand=e.toString(),this.operation=null,this.secondOperand="";break;default:return}}},{key:"updateUI",value:function(){if(!this.firstOperand)return this.displayHolderElement.innerText="0",void d(this.displayHolderElement);var e=l(this.firstOperand),t=l(this.secondOperand),n=this.operation?" ".concat(this.operation," "):"";this.displayHolderElement.innerText=e+n+t,d(this.displayHolderElement)}}])&&c(t.prototype,n),e}();p=localStorage.getItem("theme"),u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",h=p||u,e.className="",e.classList.add(h),t.addEventListener("click",(function(){for(var t,n=["dark","light","custom"],r=n.length,a=0;a<r;a++)if(e.classList.contains(n[a])){e.classList.toggle(n[a],!1);var i=a!==r-1?a+1:0;return e.classList.toggle(n[i],!0),"theme",t=n[i],void localStorage.setItem("theme",t)}}));var m=new f(n);r.forEach((function(e){e.addEventListener("click",(function(){m.addOperand(e.innerText),m.updateUI()}))})),a.forEach((function(e){e.addEventListener("click",(function(){m.addOperation(e.innerText),m.updateUI()}))})),s.addEventListener("click",(function(){m.reset(),m.updateUI()})),i.addEventListener("click",(function(){m.delete(),m.updateUI()})),o.addEventListener("click",(function(){m.calculate(),m.updateUI()}))})();